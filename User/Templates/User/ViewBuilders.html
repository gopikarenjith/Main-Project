{% extends 'User/Header.html' %}
{% block content %}
<br><br><br><br><br><br>
<head>
    <title>ViewBuilders</title>

</head>
<style>
    /* UNIQUE CLASS NAMESPACE */
    .vb-container * {
        font-family: Arial, sans-serif;
    }

    .vb-container {
        width: 95%;
        margin: auto;
        padding: 20px;
    }

    .vb-title {
        text-align: center;
        font-size: 28px;
        font-weight: bold;
        color: #ff6600;
        margin-bottom: 25px;
    }

    .vb-table {
        width: 100%;
        border-collapse: collapse;
        background: #fffdf8;
        box-shadow: 0 0 12px rgba(255, 102, 0, 0.3);
        border-radius: 10px;
        overflow: hidden;
    }

    .vb-table th {
        background: #ff8800;
        color: white;
        padding: 12px;
        font-size: 16px;
        text-align: center;
    }

    .vb-table td {
        padding: 12px;
        border-bottom: 1px solid #ffddbb;
        font-size: 15px;
        text-align: center;
    }

    .vb-table tr:hover {
        background: #fff3e6;
        transition: 0.3s;
    }

    .vb-logo {
        width: 120px;
        height: auto;
        border-radius: 8px;
        border: 2px solid #ff8800;
    }

    .vb-action-btn {
        background: #ff7700;
        color: white;
        padding: 6px 12px;
        border-radius: 6px;
        text-decoration: none;
        font-size: 14px;
        margin: 3px;
        display: inline-block;
        transition: 0.3s;
    }

    .vb-action-btn:hover {
        background: #ff5500;
    }

    .star-warning {
        color: orange;
        font-size: 16px;
    }
</style>

<div class="vb-container">

    <h2 class="vb-title">Registered Builders</h2>

    <table class="vb-table">
        <tr>
            <th>SINO</th>
            <th>Name</th>
            <th>Email</th>
            <th>Contact</th>
            <th>Logo</th>
            <th>Address</th>
            <th>District</th>
            <th>Place</th>
            <th>Rating</th>
            <th>Action</th>
        </tr>

        {% for i, j in viewdata %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ i.builders_name }}</td>
            <td>{{ i.builders_email }}</td>
            <td>{{ i.builders_contact }}</td>

            <td>
                <img src="{{ i.builders_logo.url }}" class="vb-logo" alt="">
            </td>

            <td>{{ i.builders_address }}</td>
            <td>{{ i.place.district.district_name }}</td>
            <td>{{ i.place.place_name }}</td>

            <td>
                {% for k in ar %}
                    {% if k <= j %}
                        <i class="fa-solid fa-star star-warning"></i>
                    {% else %}
                        <i class="fa-solid fa-star" style="color:#ccc;"></i>
                    {% endif %}
                {% endfor %}
            </td>

            <td>
                <a href="{% url 'User:ViewWork' i.id %}" class="vb-action-btn">View Work</a>
                <a href="{% url 'User:Request' i.id %}" class="vb-action-btn">Request</a>
            </td>
        </tr>
        {% endfor %}
    </table>

</div>

{% endblock %}

