{% extends 'User/Header.html' %}
{% block content %}
<br><br><br><br><br><br>

<style>
    /* UNIQUE CLASS FOR THIS PAGE - ORANGE THEME */
    .complaint-page-container{
        width: 90%;
        margin: auto;
        font-family: Arial, sans-serif;
    }

    .complaint-form-box{
        background: #fff7f0;
        padding: 25px;
        border-radius: 10px;
        border: 2px solid #ff8800;
        box-shadow: 0 0 10px rgba(255,136,0,0.2);
        margin-bottom: 30px;
    }

    .complaint-form-title{
        font-size: 24px;
        margin-bottom: 15px;
        font-weight: bold;
        color: #ff6600;
        text-align: center;
    }

    .complaint-table{
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    .complaint-table th{
        background: #ff8800;
        color: white;
        padding: 10px;
        font-weight: bold;
        border: 1px solid #ff6600;
    }

    .complaint-table td{
        border: 1px solid #ffddc0;
        padding: 10px;
        text-align: center;
        background: #fffdfb;
    }

    .complaint-input, .complaint-textarea{
        width: 100%;
        padding: 10px;
        border-radius: 7px;
        border: 1px solid #ff8800;
        font-size: 15px;
        margin-top: 5px;
    }

    .complaint-input:focus,
    .complaint-textarea:focus{
        outline: none;
        border-color: #ff6600;
        box-shadow: 0 0 5px rgba(255,102,0,0.5);
    }

    .complaint-submit-btn{
        background: #ff7700;
        color: white;
        padding: 10px 18px;
        border: none;
        border-radius: 7px;
        cursor: pointer;
        font-size: 16px;
        transition: 0.3s;
    }

    .complaint-submit-btn:hover{
        background: #ff5500;
    }

    .complaint-delete-btn{
        color: #ff3300;
        font-weight: bold;
        text-decoration: none;
    }

    .complaint-delete-btn:hover{
        text-decoration: underline;
    }

</style>


<div class="complaint-page-container">

    <div class="complaint-form-box">
        <h2 class="complaint-form-title">Submit Your Complaint</h2>

        <form action="" method="post">
            {% csrf_token %}
            <table class="complaint-table-form">
                <tr>
                    <td><b>Title</b></td>
                    <td>
                        <input type="text" name="txt_title" required id="txt_title" class="complaint-input">
                    </td>
                </tr>
                <tr>
                    <td><b>Content</b></td>
                    <td>
                        <textarea name="txt_content" required id="txt_content" class="complaint-textarea"></textarea>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" style="text-align:center;">
                        <input type="submit" value="Submit" class="complaint-submit-btn">
                    </td>
                </tr>
            </table>
        </form>
    </div>

    <!-- COMPLAINT LIST -->
    <table class="complaint-table">
        <tr>
            <th>SINO</th>
            <th>Title</th>
            <th>Content</th>
            <th>Date</th>
            <th>Reply</th>
            <th>Action</th>
        </tr>

        {% for i in complaintdata %}
        <tr>
            <td>{{forloop.counter}}</td>
            <td>{{i.Complaint_title}}</td>
            <td>{{i.Complaint_content}}</td>
            <td>{{i.Complaint_date}}</td>
            <td>{{i.Complaint_reply}}</td>
            <td>
                <a href="{% url 'User:DeleteComplaint' i.id %}" class="complaint-delete-btn">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>

</div>

{% if msg %}
<script>
    alert("{{msg}}")
    window.location="{% url 'User:Complaint' %}"
</script>
{% endif %}

{% endblock %}

